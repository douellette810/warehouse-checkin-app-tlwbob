
# ============================================================================
# SQL Server Configuration
# ============================================================================

# SQL Server instance name
# Format: SERVER_IP\INSTANCE_NAME
# Example: 192.168.40.239\SQLEXPRESS
# IMPORTANT: Use the server's LOCAL NETWORK IP address
DB_SERVER=192.168.40.239\\SQLEXPRESS

# SQL Server Authentication Mode
# Options: sql, windows
# Current: sql (SQL Server Authentication)
DB_AUTH_MODE=sql

# SQL Server Authentication
# Username for SQL Server login
DB_USER=sql

# Password for SQL Server login
DB_PASSWORD=W1@3!-j/R

# Database name
# This is the name of your warehouse database
DB_DATABASE=WarehouseCheckIn

# Encryption settings
# Set to true if using Azure SQL or if encryption is required
DB_ENCRYPT=false

# Trust server certificate
# Set to true for local SQL Server instances
DB_TRUST_SERVER_CERTIFICATE=true

# ============================================================================
# API Server Configuration
# ============================================================================

# Port number for the API server
# Default: 3000
# Make sure this port is open in Windows Firewall for LOCAL NETWORK ONLY
PORT=3000

# Host IP address to bind the server to
# CRITICAL FOR SECURITY: Set this to your server's LOCAL NETWORK IP
# This ensures the API only accepts connections from the local network
# Example: 192.168.40.239
# DO NOT use 0.0.0.0 (accepts all connections) or 127.0.0.1 (localhost only)
HOST=192.168.40.239

# ============================================================================
# Optional: Logging Configuration
# ============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# ============================================================================
# SECURITY CONFIGURATION CHECKLIST
# ============================================================================
#
# ⚠️ CRITICAL: The React Native app CANNOT control network security!
# Database accessibility is a SERVER-SIDE configuration issue.
#
# To properly secure your database and prevent external access:
#
# 1. SQL SERVER NETWORK BINDING:
#    - Open SQL Server Configuration Manager
#    - Navigate to: SQL Server Network Configuration > Protocols for SQLEXPRESS
#    - Configure TCP/IP to listen ONLY on your local network IP
#    - Disable listening on 0.0.0.0 (all interfaces)
#
# 2. WINDOWS FIREWALL RULES:
#    Run these commands as Administrator:
#
#    # Allow local network access to SQL Server
#    netsh advfirewall firewall add rule name="SQL Server - Local Network Only" dir=in action=allow protocol=TCP localport=1433 remoteip=192.168.40.0/24
#
#    # Block external access to SQL Server
#    netsh advfirewall firewall add rule name="SQL Server - Block External" dir=in action=block protocol=TCP localport=1433 remoteip=any
#
#    # Allow local network access to API
#    netsh advfirewall firewall add rule name="Warehouse API - Local Network Only" dir=in action=allow protocol=TCP localport=3000 remoteip=192.168.40.0/24
#
#    # Block external access to API
#    netsh advfirewall firewall add rule name="Warehouse API - Block External" dir=in action=block protocol=TCP localport=3000 remoteip=any
#
# 3. ROUTER CONFIGURATION:
#    - Log into your router admin panel
#    - Verify NO port forwarding for ports 1433 or 3000
#    - Check DMZ settings - ensure server is NOT in DMZ
#    - Consider disabling UPnP to prevent automatic port forwarding
#
# 4. BACKEND API BINDING:
#    - Set HOST variable above to your local network IP
#    - The server.js file should bind to this IP, not 0.0.0.0
#
# 5. TEST SECURITY:
#    - From inside network: Should be able to access API
#    - From outside network (mobile data): Should NOT be able to access
#
# See BACKEND_SETUP_GUIDE.md for detailed security configuration instructions.
#
# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
#
# 1. Copy this file and rename it to .env
# 2. Update the values above with your actual configuration
# 3. SQL Server Authentication is now configured with:
#    - Username: sql
#    - Password: W1@3!-j/R
# 4. Make sure SQL Server Authentication is enabled:
#    - Open SQL Server Management Studio
#    - Right-click your server > Properties > Security
#    - Select "SQL Server and Windows Authentication mode"
#    - Restart SQL Server service
# 5. Verify the 'sql' user has proper permissions:
#    - db_datareader role (for reading data)
#    - db_datawriter role (for writing data)
# 6. Configure network security (see checklist above)
# 7. Keep this file secure - do not commit it to version control
# 8. Add .env to your .gitignore file
#
# ============================================================================
